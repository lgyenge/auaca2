<!-- <div class="example-action-buttons">
  <button mat-button (click)="accordion.openAll()">Expand All</button>
  <button mat-button (click)="accordion.closeAll()">Collapse All</button>
</div> -->
<div cdkDropList class="example-list" (cdkDropListDropped)="drop($event)">
  <ng-container *ngFor="let category of auCategories$ | async; let i = index" ;>
    <div class="example-box" cdkDrag [cdkDragData]="category">
      <div class="example-custom-placeholder" *cdkDragPlaceholder></div>
      <mat-accordion class="example-headers-align" multi>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title (click)="$event.stopPropagation()">
              <div *ngIf="category.id === (selectedAuCategory$ | async); else notSelected">
                <button mat-icon-button color="primary" aria-label="Clear selection" (click)="unSelectCategory()">
                  <mat-icon>check_box</mat-icon>
                </button>
              </div>

              <ng-template #notSelected>
                <button mat-icon-button color="primary" aria-label="Select" (click)="selectCategory($event, category)">
                  <mat-icon>check_box_outline_blank</mat-icon>
                </button>
              </ng-template>
              Category:{{ category.name }}
            </mat-panel-title>

            <mat-panel-description>
              <button mat-button (click)="createCategory(i)">Add Category</button>
              <button mat-button (click)="deleteCategory(category.id)">Delete Category</button>
            </mat-panel-description>
          </mat-expansion-panel-header>
        <lib-au-category [category]="category" *ngIf="(dataLoaded$ | async)"></lib-au-category>
        <!-- <lib-au-category [category]="category"></lib-au-category> -->
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </ng-container>
</div>
